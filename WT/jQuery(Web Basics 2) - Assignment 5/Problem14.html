<!DOCTYPE html>
<html>

<head>
    <script
        src="F:\CDAC Course\4th MODULE = Web Programming Technologies\Script Libraries (jQuery)\jQuery\jquery-3.6.0.min.js">
        </script>
    <script>
        var person = [];
        $(document).ready(function () {
            $("#person-table").hide();
            $("#name").blur(function () {
                if (/^[A-Z a-z]+$/.test($(this).val())) {
                    $(this).removeClass("is-invalid").addClass("is-valid").attr("data-valid", true);
                } else {
                    $(this).removeClass("is-valid").addClass("is-invalid").attr("data-valid", false);
                }
            });
            $("#email").blur(function () {
                if (/\S+@\S+\.\S+/.test($(this).val())) {
                    $(this).removeClass("is-invalid").addClass("is-valid").attr("data-valid", true);
                } else {
                    $(this).removeClass("is-valid").addClass("is-invalid").attr("data-valid", false);
                }
            });
            $("#emp").blur(function () {
                if (/^(Employed|Unemployed)$/.test($(this).val())) {
                    $(this).removeClass("is-invalid").addClass("is-valid").attr("data-valid", true);
                } else {
                    $(this).removeClass("is-valid").addClass("is-invalid").attr("data-valid", false);
                }
            });
            $("#add").click(function () {
                const valid = [
                    $("#name").attr("data-valid"),
                    $("#email").attr("data-valid"),
                    $("#emp").attr("data-valid")
                ];
                if (valid.every(e => e === "true")) {
                    person.push({
                        name: $("#name").val(),
                        email: $("#email").val(),
                        emp: $("#emp").val(),
                    });
                } else {
                    $("#error").text("Fill all the fields with valid data.");
                }
            });
            $("#run").click(function () {
                let tbody = "";
                person.forEach((p, i) => {
                    tbody += `
            <tr>
              <th scope="row">${i + 1}</th>
              <td>${p.name}</td>
              <td>${p.email}</td>
              <td>${p.emp}</td>
            </tr>
          `;
                })
                $("person-table-body").html(tbody);
                $("#person-table").show(500);
            });
            $("#cls").click(function () {
                $("#person-table-body").html("");
                $("#person-table").hide(500);
            });
        });
    </script>
</head>

<body>
    <form>
        <div>
            <label for="name">Name</label>
            <input type="text" class="form-control" id="name" placeholder="Enter Name">
        </div>
        <div>
            <label for="email">Email</label>
            <input type="email" class="form-control" id="email" placeholder="name@example.com">
        </div>
        <div>
            <label for="emp">Employement Status</label>
            <select class="form-control" id="emp">
                <option value="null">Select</option>
                <option value="Employed">Employed</option>
                <option value="Unemployed">Unemployed</option>
            </select>
        </div>
        <span class="text-danger h6" id="error"></span>
        <button type="button" class="btn btn-primary float-right" id="add">Add</button>
    </form>
    <br />
    <br />
    <table class="table" id="person-table">
        <thead class="thead-dark">
            <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">Employment Status</th>
            </tr>
        </thead>
        <tbody id="person-table-body">
        </tbody>
    </table>
    </div>
    </div>
    <div class="btn-group button-grp" role="group" aria-label="Basic example">
        <button type="button" class="btn btn-dark" id="cls">Reset</button>
        <button type="button" class="btn btn-primary" id="run">Run</button>
    </div>
    </div>
    </div>
</body>

</html>